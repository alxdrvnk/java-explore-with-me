CREATE TABLE IF NOT EXISTS endpoint_hit (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    app VARCHAR NOT NULL,
    uri VARCHAR NOT NULL,
    ip VARCHAR NOT NULL,
    timestamp TIMESTAMP WITH TIME ZONE NOT NULL
);

CREATE INDEX IF NOT EXISTS uri_idx ON endpoint_hit (uri);
CREATE INDEX IF NOT EXISTS timestamp ON endpoint_hit (timestamp);